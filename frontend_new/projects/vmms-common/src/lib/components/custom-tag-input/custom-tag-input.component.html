<div class="input">
  <label class="input-label" *ngIf="label">{{label}}</label>
  <div class="input-field" matAutocompleteOrigin #origin="matAutocompleteOrigin">
    <div *ngFor="let tag of control.value; index as i" class="tag">
      {{optionList.length ? (tag | getItemLabelById:optionList) : tag}}
      <img [ngSrc]="'assets/icons/xmark.svg'" [height]="16" [width]="16" alt="" (click)="removeTag(i)">
    </div>
    <form class="inner-form" [formGroup]="formGroup" (ngSubmit)="addTag()">
      <ng-container [ngSwitch]="fieldType">
        <ng-container *ngSwitchCase="'selector'">
          <input class="inner-input" formControlName="tag"
                 [placeholder]="'Start typing and select'"
                 [matAutocomplete]="auto" [matAutocompleteConnectedTo]="origin">
          <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectTag($event)">
            <mat-option *ngFor="let option of optionList | filterItemList:excludedList | filterItemListBySearch:formGroup.get('tag')?.value"
                        [value]="option.id">
              {{option.name}}
            </mat-option>
          </mat-autocomplete>
        </ng-container>
        <ng-container *ngSwitchCase="'text'">
          <input class="inner-input" formControlName="tag"
                 [placeholder]="'Type any string and hit enter'">
        </ng-container>
        <ng-container *ngSwitchCase="'number'">
          <input class="inner-input" type="number" formControlName="tag"
                 [placeholder]="'Type any number and hit enter'">
        </ng-container>
        <ng-container *ngSwitchCase="'date'">
          <input class="inner-input" formControlName="tag" (click)="datepicker.open()"
                 [placeholder]="'Select a date'" [matDatepicker]="datepicker">
          <mat-datepicker #datepicker></mat-datepicker>
        </ng-container>
      </ng-container>
    </form>
  </div>
</div>
